"use strict";var URLConversion=function(c){var e=document.querySelector(".urlConversion");if(null!=e)return e.classList.add("-opened"),!1;var t=location.href,n=location.host,i=location.pathname.replace("/",""),r=-1!==n.indexOf("example.")?n.replace(/www./,"").split(".")[0]:n,u=document.createElement("div");u.className="urlConversion",u.innerHTML='<div class="urlConversion__wrap">\n    <div class="urlConversion__list">\n      <a class="urlConversion__link">ローカル</a>\n      <a class="urlConversion__link">ノイローカル</a>\n      <a class="urlConversion__link">テストサーバー</a>\n      <a class="urlConversion__link">本番サーバー</a>\n    </div>\n    <div class="urlConversion__form">\n      <label class="urlConversion__label">\n        <span class="urlConversion__caption">URL</span>\n        <input class="urlConversion__input" type="text" placeholder="n-e-u  /  www.n-e-u.co.jp  /  n-e-u.testup.jp" value="'.concat(r,'">\n      </label>\n    </div>\n  </div>'),document.body.appendChild(u);var d=document.querySelector(".urlConversion__input"),v=document.querySelector(".urlConversion__label"),o=document.querySelectorAll(".urlConversion__link"),s=o.length,a=function(e){var n=0<arguments.length&&void 0!==e?e:{},r=n.fetchID,t=void 0===r?null:r,o=n.firstFlag,s=void 0!==o&&o,a=encodeURI(t),l="//www.example.pizza/projects/api/detail/".concat(a);fetch(l).then(function(e){return e.ok?e.json():Promise.reject(new Error("Error"))}).then(function(e){var n=[{server:!0,url:"//".concat(e.subdomain,".").concat(c,"/").concat(i),current:c},{server:e.server,url:"//".concat(e.subdomain,".example.").concat(e.server,"/").concat(i),current:e.server},{server:e.test_url,url:"".concat(e.test_url).concat(i),current:e.test_url},{server:e.url,url:"".concat(e.url).concat(i),current:e.url}];p(n),v.classList.remove("-error"),navigator.cookieEnabled&&(document.cookie="url_id="+t)}).catch(function(e){p("null"),d.focus(),v.classList.add("-error"),v.setAttribute("data-text","正しいURLを入力してください"),s&&(d.value=""),s&&navigator.cookieEnabled&&""!=document.cookie&&f()}),s&&setTimeout(function(){u.classList.add("-opened")},1)},f=function(){for(var e,n=[],r=document.cookie.split("; "),t=r.length,o=0;o<t;o++)void 0,e=r[o].split("="),n[e[0]]=e[1];n.url_id&&(d.value=n.url_id,v.classList.add("-cookie"),v.setAttribute("data-text","Cookieを利用しました。"),a({fetchID:n.url_id,firstFlag:!1}))},p=function(r){for(var e=0;e<s;e++)!function(e){if(!r[e].server||null===r)return o[e].classList.add("-disabled"),o[e].classList.remove("-current"),o[e].href="";var n=r[e].current.replace(/http:|https:/,"");-1!=t.indexOf(n)?o[e].classList.add("-current"):o[e].classList.remove("-current"),o[e].classList.remove("-disabled"),o[e].href=r[e].url}(e)};d.addEventListener("focus",function(){v.classList.add("-focus")}),d.addEventListener("blur",function(){v.classList.remove("-focus")}),d.addEventListener("keyup",function(e){var n=e.target.value;v.classList.remove("-cookie"),a({fetchID:n,firstFlag:!1})}),a({fetchID:r,firstFlag:!0}),window.addEventListener("keydown",function(){27==event.keyCode&&u.classList.remove("-opened")})};